.#{$namespace}TextField {
  $self: &;
  display: flex;
  position: relative;
  flex-direction: column;
  margin-bottom: $control-spacer;

  &--horizontal {
    flex-direction: row;
  }

  &-input {
    margin-bottom: 0;
  }

  &-info {
    order: 3;
    margin-left:auto;
  }

  &-icon {
    position: absolute;
    right: 0;
    top: 1.05rem;
    display: block;
    margin-bottom: map-get($spacers, 1);
  }

  &-input.is-error ~ &-message,
  &-input:invalid ~ &-message {
    color: $error;
  }

  // TODO: rethink naming
  &.has-noLabel {
    #{$self}-icon {
      top:0;
    }
  }

  &.has-icon {
    #{$self}-input {
      padding-right: 30px;
    }
  }

  &-label {
    text-align: left;
    display: block;
    margin-bottom: map-get($spacers, 1);

    &:required {
      outline: 3px solid green;
    }
  }

  &--required &-label {
    &:after {
      content: '*';
      display: inline-block;
    }
  }

  &-message {
    text-align: left;
    font-size: $font-size-small;
  }

  &-footer {
    text-align: left;
    font-size: $font-size-small;
    margin-top: map-get($spacers, 1);
    margin-bottom: -$control-spacer;
    display: flex;
    justify-content: space-between;
  }

  &--float {

    #{$self}-footer {
      order: 2;
    }

    #{$self}-input {
      order: 1;
      @include control-placeholder(0);

      + #{$self}-label {
        pointer-events: none;
        cursor: text;
        transition: all 200ms;
        transform: translate3d(0, calc(100% + #{map-get($spacers, 1)}), 0);
        padding: 0 $control-padding-x;
        @include control-placeholder-style();
        height: #{$label-font-size};
        line-height: $control-height;
        vertical-align: middle;
      }

      &:focus, .has-value {
        @include control-placeholder(1);
      }

      &:focus + #{$self}-label, &.has-value + #{$self}-label {
        transform: translate3d(0, 0, 0);
        @extend %label;
        color: initial;
        line-height: 1;
        vertical-align: baseline;
      }
    }
  }
}
